/* ===================================
   1. CÀI ĐẶT CHUNG & BIẾN (VARIABLES)
   =================================== */

:root {
    --c-bg: #0a0e30;
    --c-bg-input: rgba(255, 255, 255, 0.08);
    --c-bg-slider: rgba(255, 255, 255, 0.314);
    --c-bg-toggle: rgba(214, 214, 214, 0.434);
    --c-bg-gradient-btn: linear-gradient(to top, #209cff 100%, #68e0cf 200%);
    --c-bg-gradient-body: #112D60;

    --c-text-white: #ffffff;
    --c-text-placeholder: #5a6a90;
    --c-text-suggestions: #bdc3c7;
    --c-thumb: #fff;
    --c-danger: #e74c3c;
    --c-success: #2ecc71;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    width: 100%;
    min-height: 100vh;
    background-color: var(--c-bg-gradient-body);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: "Roboto", sans-serif;
    padding: 20px;
}

button {
    border: 0;
    outline: 0;
    background: none;
    cursor: pointer;
}

/* ==================
   2. BỐ CỤC (LAYOUT)
   ================== */

.container-wrapper {
    display: flex;
    gap: 30px;
    width: 100%;
    max-width: 1100px;
    justify-content: center;
    align-items: flex-start;
    flex-wrap: wrap;
}

.container {
    background: var(--c-bg);
    padding: 25px 30px;
    border-radius: 10px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.45), 0 4px 8px rgba(0, 0, 0, 0.35);
    width: 100%;
}

.left-column {
    flex: 1;
    min-width: 350px;
    max-width: 500px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.generator-container {
    flex: 1;
    min-width: 350px;
    max-width: 500px;
    background: var(--c-bg);
    padding: 25px 30px;
    border-radius: 10px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.45), 0 4px 8px rgba(0, 0, 0, 0.35);
}

.checker-container {
    width: 100%;
}

/* ========================================
   3. THÀNH PHẦN GIAO DIỆN
   ======================================== */

.title {
    text-align: center;
    font-size: 1.75rem;
    margin: 10px 0 30px 0;
    color: var(--c-text-white);
}

.input,
.result {
    position: relative;
    width: 100%;
    height: 65px;
}

#passwordInput,
.result__viewbox,
#passphraseInput {
    width: 100%;
    height: 100%;
    background: var(--c-bg-input);
    border-radius: 8px;
    color: var(--c-text-white);
    text-align: center;
    line-height: 65px; /* Căn giữa chiều dọc */
    border: none;
    font-size: 16px;
    box-sizing: border-box;
}

/* Riêng ô nhập câu nói thì căn trái cho dễ nhìn */
#passphraseInput {
    text-align: left;
    padding-left: 15px;
    padding-right: 80px; /* Chừa chỗ cho nút TẠO */
}

.field-title {
    position: absolute;
    top: -10px;
    left: 8px;
    transform: translateY(-50%);
    font-weight: 800;
    color: var(--c-text-white);
    text-transform: uppercase;
    font-size: 0.65rem;
    pointer-events: none;
    user-select: none;
}

/* --- Checker --- */
#passwordInput { padding-right: 50px; }
#passwordInput::placeholder { color: var(--c-text-placeholder); }
#passwordInput:focus { outline: none; }

#togglePasswordBtn {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    color: var(--c-text-placeholder);
    font-size: 20px;
    padding: 0;
}

#strengthMeter {
    width: 100%;
    height: 10px;
    border: none;
    border-radius: 5px;
    margin: 10px 0px 10px;
    overflow: hidden;
    appearance: none;
}
#strengthMeter::-webkit-progress-bar { background-color: var(--c-bg-input); border-radius: 5px; }
#strengthMeter::-webkit-progress-value { background: var(--progress-color, var(--c-danger)); border-radius: 5px; transition: background-color 0.3s ease; }
#strengthMeter::-moz-progress-bar { background: var(--progress-color, var(--c-danger)); border-radius: 5px; transition: background-color 0.3s ease; }

#strengthSuggestions { margin-top: 15px; }
#strengthSuggestions li { display: flex; align-items: center; color: var(--c-text-suggestions); font-size: 14px; margin-bottom: 8px; list-style: none; }
#strengthSuggestions .icon-invalid { color: var(--c-danger); width: 20px; margin-right: 8px; text-align: center; }
#strengthSuggestions .icon-valid { color: #2ecc71; width: 20px; margin-right: 8px; text-align: center; }

/* --- Generator --- */
/* =================================================
   LOGIC NÚT COPY BÁM THEO CHUỘT & HIỂU ỨNG TEXT
   ================================================= */
/* =================================================
   FIX LỖI NÚT COPY & HIỆU ỨNG TEXT
   ================================================= */

.result {
    position: relative;
    width: 100%;
    height: 65px;
    overflow: hidden; /* Giữ nút copy không bị tràn ra ngoài */
    cursor: default; /* Mặc định là con trỏ thường */
}

/* --- Dòng chữ thông báo --- */
.result__info {
    position: absolute;
    bottom: 5px;
    right: 15px;
    font-size: 0.8rem;
    transition: all 0.3s ease;
    z-index: 10;
    pointer-events: none; /* Để chuột xuyên qua chữ */
}

/* Trạng thái 1: Nhấp chuột để sao chép */
.result__info.right {
    color: var(--c-text-placeholder);
    opacity: 1;
    transform: translateY(0);
}

/* Trạng thái 2: Đã sao chép */
.result__info.left {
    color: var(--c-success);
    opacity: 0;
    transform: translateY(20px); /* Nằm ẩn bên dưới */
    font-weight: bold;
}

/* --- Nút Copy (Hình tròn) --- */
.result #copy-btn {
    position: absolute;
    top: var(--y, 0px);  /* Có giá trị mặc định để tránh lỗi */
    left: var(--x, 0px);
    width: 45px;
    height: 45px;
    background: var(--c-text-white);
    border-radius: 50%;
    color: var(--c-bg);

    /* Căn giữa icon */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.2rem;

    /* Mặc định ẩn đi (Thu nhỏ về 0) */
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
    transition: transform 0.1s ease, opacity 0.2s ease, background 0.3s;
    pointer-events: none; /* Không chặn chuột khi chưa hiện */
    z-index: 5;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

/* Khi di chuột vào ô Result: Hiện nút copy */
.result:hover #copy-btn {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1); /* Phóng to ra */
    pointer-events: auto; /* Cho phép bấm */
    cursor: pointer;
}

/* Hiệu ứng bấm nút */
.result #copy-btn:active {
    transform: translate(-50%, -50%) scale(0.9);
}

/* ==========================================================
   4. SLIDER GIAO DIỆN CŨ (CHUẨN XÁC)
   ========================================================== */

.range__slider {
    position: relative;
    width: 100%;
    height: calc(65px - 10px);
    display: flex;
    justify-content: center;
    align-items: center;
    background: var(--c-bg-input);
    border-radius: 8px;
    margin: 30px 0;
}

/* Số 4 (Min) bên trái */
.range__slider::before {
    content: attr(data-min);
    position: absolute;
    color: var(--c-text-white);
    font-size: 0.9rem;
    font-weight: bold;
    left: 10px;
}

/* Số 32 (Max) bên phải */
.range__slider::after {
    content: attr(data-max);
    position: absolute;
    color: var(--c-text-white);
    font-size: 0.9rem;
    font-weight: bold;
    right: 10px;
}

/* Số 16 hiện tại (Nằm cạnh chữ SỐ KÝ TỰ) */
.range__slider .length__title::after {
    content: attr(data-length);
    position: absolute;
    right: -25px; /* Đẩy số sang bên phải */
    color: var(--c-text-white);
    font-variant-numeric: tabular-nums;
}

/* Thanh kéo */
#slider {
    appearance: none;
    width: calc(100% - (70px)); /* Chừa chỗ cho 2 số ở đầu */
    height: 2px;
    border-radius: 5px;
    background: var(--c-bg-slider);
    outline: none;
    padding: 0;
    margin: 0;
    cursor: pointer;
    z-index: 2;
}

#slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--c-thumb);
    cursor: pointer;
    transition: all 0.15s ease-in-out;
    box-shadow: 0 0 5px rgba(0,0,0,0.5);
}

#slider::-webkit-slider-thumb:hover {
    background: #d4d4d4;
    transform: scale(1.2);
}

/* --- Settings --- */
.settings {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}
.setting {
    position: relative;
    width: 100%;
    height: auto; /* Đổi height thành auto để ô có thể giãn cao khi chữ xuống dòng */
    min-height: 55px; /* Đặt chiều cao tối thiểu */
    background: var(--c-bg-input);
    border-radius: 8px;
    display: flex;
    align-items: center;
    padding: 10px 25px;
    color: var(--c-text-white);
}
.settings .setting input { opacity: 0; position: absolute; }
.settings .setting input+label {
    user-select: none;
    flex: 1; /* Sử dụng flex để chiếm không gian còn lại */
    cursor: pointer;
    padding-right: 70px; /* Thêm padding bên phải để tránh nút toggle (50px nút + 20px khoảng cách) */
    line-height: 1.4; /* Tăng chiều cao dòng cho dễ đọc khi xuống dòng */
}
.settings .setting input+label::before, .settings .setting input+label::after { content: ""; position: absolute; transition: 150ms cubic-bezier(0.24, 0, 0.5, 1); transform: translateY(-50%); top: 50%; right: 10px; cursor: pointer; }
.settings .setting input+label::before { height: 30px; width: 50px; border-radius: 30px; background: var(--c-bg-toggle); }
.settings .setting input+label::after { height: 24px; width: 24px; border-radius: 60px; right: 32px; background: var(--c-text-white); }
.settings .setting input:checked+label:before { background: var(--c-bg-gradient-btn); }
.settings .setting input:checked+label:after { right: 14px; }

/* --- Generate Button --- */
.btn.generate {
    width: 100%;
    height: 50px;
    border-radius: 8px;
    color: var(--c-text-white);
    background-image: var(--c-bg-gradient-btn);
    font-weight: bold;
    text-transform: uppercase;
    font-size: 1rem;
    letter-spacing: 1px;
    transition: transform 0.1s, box-shadow 0.2s;
    margin-top: 10px;
}
.btn.generate:active { transform: translateY(-3%); box-shadow: 0 4px 8px rgba(255, 255, 255, 0.08); }

/* --- Acronym & Logo --- */
#passphraseInput { padding-right: 70px; }
#passphraseInput::placeholder { color: var(--c-text-placeholder); }
#passphraseInput:focus { outline: none; }

.logo-area {
    width: 100%;
    height: 250px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    background: var(--c-bg);
    border-radius: 10px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.45), 0 4px 8px rgba(0, 0, 0, 0.35);
}
#soict-logo {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    opacity: 0.9;
    transition: opacity 0.3s;
}
#soict-logo:hover { opacity: 1; }

/* --- Responsive --- */
@media (max-width: 768px) {
    .container-wrapper {
        flex-direction: column;
        align-items: center;
    }
    .left-column, .generator-container {
        max-width: 100%;
        min-width: auto;
    }
    .settings {
        grid-template-columns: 1fr;
    }
}